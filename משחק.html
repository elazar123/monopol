<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>ğŸ’‹ ××•× ×•×¤×•×œ ×”×ª×©×•×§×” ğŸ”¥</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;700;900&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Heebo', sans-serif;
            background: #000;
            min-height: 100vh;
            color: #fff;
            overflow-x: hidden;
            position: relative;
        }

        /* Sexy animated background */
        body::before {
            content: '';
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            background: 
                radial-gradient(circle at 20% 50%, rgba(255, 0, 102, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(148, 0, 211, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 40% 20%, rgba(255, 20, 147, 0.2) 0%, transparent 50%),
                linear-gradient(135deg, #1a0033 0%, #330033 25%, #1a001a 50%, #4d0026 75%, #1a0033 100%);
            animation: backgroundPulse 10s ease-in-out infinite;
            z-index: 0;
        }

        @keyframes backgroundPulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }

        /* Floating hearts */
        .hearts-bg {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }

        .floating-heart {
            position: absolute;
            font-size: 20px;
            opacity: 0.3;
            animation: floatUp 15s infinite;
        }

        @keyframes floatUp {
            0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
            10% { opacity: 0.3; }
            90% { opacity: 0.3; }
            100% { transform: translateY(-100px) rotate(360deg); opacity: 0; }
        }

        /* Start Screen */
        .start-screen {
            position: fixed;
            inset: 0;
            z-index: 3000;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(10px);
            padding: 20px;
        }

        .start-screen.hidden {
            display: none;
        }

        .start-content {
            max-width: 600px;
            width: 100%;
            background: linear-gradient(135deg, rgba(255, 0, 102, 0.2), rgba(148, 0, 211, 0.2));
            backdrop-filter: blur(20px);
            border: 3px solid rgba(255, 0, 102, 0.4);
            border-radius: 30px;
            padding: clamp(25px, 5vw, 40px);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.8);
            animation: startPop 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            max-height: 90vh;
            overflow-y: auto;
        }

        @keyframes startPop {
            0% { transform: scale(0) rotate(-180deg); opacity: 0; }
            100% { transform: scale(1) rotate(0); opacity: 1; }
        }

        .start-title {
            font-size: clamp(2em, 6vw, 3.5em);
            font-weight: 900;
            text-align: center;
            background: linear-gradient(135deg, #ff0066, #ff1493, #9400d3);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            animation: glow 2s ease-in-out infinite;
        }

        @keyframes glow {
            0%, 100% { filter: drop-shadow(0 0 20px rgba(255, 0, 102, 0.8)); }
            50% { filter: drop-shadow(0 0 40px rgba(255, 0, 102, 1)); }
        }

        .start-description {
            font-size: clamp(1em, 2.5vw, 1.2em);
            line-height: 1.8;
            margin: 20px 0;
            color: #ffb3d9;
        }

        .start-description strong {
            color: #ff0066;
        }

        .rules-box {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 20px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid rgba(255, 0, 102, 0.3);
        }

        .rules-box h3 {
            color: #ff0066;
            margin-bottom: 15px;
            font-size: clamp(1.2em, 3vw, 1.5em);
        }

        .rules-box ul {
            list-style: none;
            padding: 0;
        }

        .rules-box li {
            padding: 8px 0;
            font-size: clamp(0.9em, 2vw, 1.1em);
            border-bottom: 1px solid rgba(255, 0, 102, 0.2);
        }

        .rules-box li:last-child {
            border-bottom: none;
        }

        .level-selection {
            margin: 25px 0;
        }

        .level-selection h3 {
            text-align: center;
            color: #ff69b4;
            margin-bottom: 15px;
            font-size: clamp(1.3em, 3.5vw, 1.6em);
        }

        .level-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }

        .level-btn {
            padding: 20px;
            border-radius: 20px;
            border: 3px solid rgba(255, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            font-family: 'Heebo', sans-serif;
        }

        .level-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(255, 0, 102, 0.5);
        }

        .level-btn.selected {
            background: linear-gradient(135deg, #ff0066, #9400d3);
            border-color: #fff;
            transform: scale(1.05);
            box-shadow: 0 0 30px rgba(255, 0, 102, 0.8);
        }

        .level-btn .icon {
            font-size: 2.5em;
            display: block;
            margin-bottom: 10px;
        }

        .level-btn .name {
            font-size: 1.3em;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .level-btn .desc {
            font-size: 0.9em;
            opacity: 0.8;
        }

        .warning {
            text-align: center;
            color: #ff0066;
            font-size: clamp(1em, 2.5vw, 1.2em);
            margin: 20px 0;
            padding: 15px;
            background: rgba(255, 0, 102, 0.1);
            border-radius: 15px;
            border: 2px solid rgba(255, 0, 102, 0.3);
        }

        .start-game-btn {
            width: 100%;
            padding: 20px;
            font-size: clamp(1.3em, 3vw, 1.8em);
            font-weight: 900;
            background: linear-gradient(135deg, #ff0066, #9400d3);
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50px;
            color: #fff;
            cursor: pointer;
            font-family: 'Heebo', sans-serif;
            box-shadow: 0 10px 30px rgba(255, 0, 102, 0.5);
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        .start-game-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(255, 0, 102, 0.7);
        }

        .start-game-btn:active {
            transform: scale(0.95);
        }

        /* Game Container */
        .game-container {
            position: relative;
            z-index: 1;
            max-width: 100%;
            padding: 10px;
            min-height: 100vh;
            display: none;
            flex-direction: column;
        }

        .game-container.active {
            display: flex;
        }

        header {
            text-align: center;
            padding: 8px 10px;
        }

        h1 {
            font-size: clamp(1.3em, 4vw, 2em);
            font-weight: 900;
            background: linear-gradient(135deg, #ff0066 0%, #ff1493 25%, #ff69b4 50%, #9400d3 75%, #ff0066 100%);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradientShift 3s ease infinite;
            letter-spacing: 2px;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        /* Top Bar - Players and Shop */
        .top-bar {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
        }

        .players-section {
            flex: 1;
            display: flex;
            gap: 10px;
        }

        .player-card {
            flex: 1;
            background: rgba(255, 0, 102, 0.1);
            backdrop-filter: blur(15px);
            border-radius: 15px;
            padding: 12px;
            border: 2px solid rgba(255, 0, 102, 0.3);
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .player-card::after {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(255, 0, 102, 0.3), rgba(148, 0, 211, 0.3));
            opacity: 0;
            transition: opacity 0.5s ease;
            pointer-events: none;
        }

        .player-card.active {
            background: rgba(255, 0, 102, 0.3);
            border-color: #ff0066;
            box-shadow: 0 0 20px rgba(255, 0, 102, 0.6);
            transform: scale(1.05);
        }

        .player-card.active::after {
            opacity: 1;
        }

        .player-name {
            font-size: 1em;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .hearts-display {
            font-size: 1.3em;
            font-weight: 900;
            color: #ff0066;
        }

        .properties-owned {
            font-size: 0.85em;
            opacity: 0.8;
            margin-top: 5px;
        }

        .shop-btn {
            background: linear-gradient(135deg, #ffd700, #ff8c00);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 15px;
            padding: 12px 20px;
            cursor: pointer;
            font-weight: 700;
            font-size: 1.1em;
            transition: all 0.3s ease;
            color: #000;
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.4);
        }

        .shop-btn:active {
            transform: scale(0.95);
        }

        /* Board */
        .board-wrapper {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px;
        }

        .board-container {
            width: 100%;
            max-width: min(95vw, 95vh, 700px);
            aspect-ratio: 1;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: clamp(4px, 1vw, 8px);
            border: 3px solid rgba(255, 0, 102, 0.4);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.8);
            position: relative;
        }

        .board {
            width: 100%;
            height: 100%;
            display: grid;
            grid-template-columns: repeat(11, 1fr);
            grid-template-rows: repeat(11, 1fr);
            gap: 1px;
            background: rgba(148, 0, 211, 0.3);
            border-radius: 20px;
            padding: 1px;
        }

        .cell {
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.8), rgba(20, 0, 30, 0.9));
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: clamp(2px, 0.5vw, 6px);
            font-size: clamp(0.5em, 1.4vw, 0.85em);
            text-align: center;
            position: relative;
            cursor: pointer;
            border-radius: 6px;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 0, 102, 0.2);
        }

        .cell.owned-player1 {
            border: 3px solid #ff0066;
            background: linear-gradient(135deg, rgba(255, 0, 102, 0.3), rgba(255, 20, 147, 0.2));
            box-shadow: 0 0 15px rgba(255, 0, 102, 0.6);
        }

        .cell.owned-player2 {
            border: 3px solid #ff8c00;
            background: linear-gradient(135deg, rgba(255, 140, 0, 0.3), rgba(255, 69, 0, 0.2));
            box-shadow: 0 0 15px rgba(255, 140, 0, 0.6);
        }

        .cell.buyable:not(.owned-player1):not(.owned-player2) {
            border-color: #00ff00;
            animation: buyablePulse 2s ease-in-out infinite;
        }

        @keyframes buyablePulse {
            0%, 100% { box-shadow: 0 0 5px rgba(0, 255, 0, 0.5); }
            50% { box-shadow: 0 0 15px rgba(0, 255, 0, 0.8); }
        }

        .cell-icon {
            font-size: clamp(1em, 2.2vw, 1.8em);
            margin-bottom: 2px;
        }

        .cell-name {
            font-weight: 700;
            font-size: clamp(0.55em, 1.1vw, 0.9em);
            line-height: 1.15;
        }

        .cell-price {
            font-size: clamp(0.5em, 1vw, 0.8em);
            color: #ffd700;
            margin-top: 2px;
            font-weight: 700;
        }

        .cell.corner {
            background: linear-gradient(135deg, #ff0066, #9400d3);
            font-weight: 900;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        /* Cell positions */
        .cell:nth-child(1) { grid-column: 11; grid-row: 11; }
        .cell:nth-child(11) { grid-column: 1; grid-row: 11; }
        .cell:nth-child(21) { grid-column: 1; grid-row: 1; }
        .cell:nth-child(31) { grid-column: 11; grid-row: 1; }

        .cell:nth-child(2) { grid-column: 10; grid-row: 11; }
        .cell:nth-child(3) { grid-column: 9; grid-row: 11; }
        .cell:nth-child(4) { grid-column: 8; grid-row: 11; }
        .cell:nth-child(5) { grid-column: 7; grid-row: 11; }
        .cell:nth-child(6) { grid-column: 6; grid-row: 11; }
        .cell:nth-child(7) { grid-column: 5; grid-row: 11; }
        .cell:nth-child(8) { grid-column: 4; grid-row: 11; }
        .cell:nth-child(9) { grid-column: 3; grid-row: 11; }
        .cell:nth-child(10) { grid-column: 2; grid-row: 11; }

        .cell:nth-child(12) { grid-column: 1; grid-row: 10; }
        .cell:nth-child(13) { grid-column: 1; grid-row: 9; }
        .cell:nth-child(14) { grid-column: 1; grid-row: 8; }
        .cell:nth-child(15) { grid-column: 1; grid-row: 7; }
        .cell:nth-child(16) { grid-column: 1; grid-row: 6; }
        .cell:nth-child(17) { grid-column: 1; grid-row: 5; }
        .cell:nth-child(18) { grid-column: 1; grid-row: 4; }
        .cell:nth-child(19) { grid-column: 1; grid-row: 3; }
        .cell:nth-child(20) { grid-column: 1; grid-row: 2; }

        .cell:nth-child(22) { grid-column: 2; grid-row: 1; }
        .cell:nth-child(23) { grid-column: 3; grid-row: 1; }
        .cell:nth-child(24) { grid-column: 4; grid-row: 1; }
        .cell:nth-child(25) { grid-column: 5; grid-row: 1; }
        .cell:nth-child(26) { grid-column: 6; grid-row: 1; }
        .cell:nth-child(27) { grid-column: 7; grid-row: 1; }
        .cell:nth-child(28) { grid-column: 8; grid-row: 1; }
        .cell:nth-child(29) { grid-column: 9; grid-row: 1; }
        .cell:nth-child(30) { grid-column: 10; grid-row: 1; }

        .cell:nth-child(32) { grid-column: 11; grid-row: 2; }
        .cell:nth-child(33) { grid-column: 11; grid-row: 3; }
        .cell:nth-child(34) { grid-column: 11; grid-row: 4; }
        .cell:nth-child(35) { grid-column: 11; grid-row: 5; }
        .cell:nth-child(36) { grid-column: 11; grid-row: 6; }
        .cell:nth-child(37) { grid-column: 11; grid-row: 7; }
        .cell:nth-child(38) { grid-column: 11; grid-row: 8; }
        .cell:nth-child(39) { grid-column: 11; grid-row: 9; }
        .cell:nth-child(40) { grid-column: 11; grid-row: 10; }

        .pawn {
            position: absolute;
            top: 1px;
            right: 1px;
            font-size: clamp(0.8em, 1.8vw, 1.6em);
            z-index: 10;
            filter: drop-shadow(0 3px 6px rgba(0, 0, 0, 0.9));
            animation: pawnDrop 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        @keyframes pawnDrop {
            0% { transform: translateY(-30px) scale(0); opacity: 0; }
            60% { transform: translateY(3px) scale(1.2); }
            100% { transform: translateY(0) scale(1); opacity: 1; }
        }

        .owner-badge {
            position: absolute;
            bottom: 1px;
            left: 1px;
            font-size: clamp(0.6em, 1.2vw, 0.9em);
            z-index: 5;
        }

        /* Controls */
        .controls-section {
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 15px;
            border: 2px solid rgba(255, 0, 102, 0.3);
            margin-top: 10px;
        }

        .dice-wrapper {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 12px;
        }

        .dice {
            width: clamp(95px, 20vw, 120px);
            height: clamp(95px, 20vw, 120px);
            background: linear-gradient(135deg, #ff0066, #ff1493);
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: clamp(3.2em, 9vw, 4.5em);
            font-weight: 900;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(255, 0, 102, 0.6),
                       inset 0 -5px 20px rgba(0, 0, 0, 0.3),
                       inset 0 5px 20px rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .dice:active {
            transform: scale(0.9);
        }

        .dice.rolling {
            animation: diceRoll 0.6s ease-in-out;
        }

        @keyframes diceRoll {
            0% { transform: rotate(0deg) scale(1); }
            25% { transform: rotate(90deg) scale(1.2); }
            50% { transform: rotate(180deg) scale(1); }
            75% { transform: rotate(270deg) scale(1.2); }
            100% { transform: rotate(360deg) scale(1); }
        }

        .buttons-row {
            display: flex;
            gap: 8px;
        }

        button {
            flex: 1;
            background: linear-gradient(135deg, #ff0066, #9400d3);
            color: #fff;
            border: 2px solid rgba(255, 255, 255, 0.2);
            padding: clamp(15px, 3vw, 20px) clamp(20px, 4vw, 30px);
            font-size: clamp(1.1em, 2.5vw, 1.3em);
            border-radius: 50px;
            cursor: pointer;
            font-weight: 700;
            font-family: 'Heebo', sans-serif;
            box-shadow: 0 8px 25px rgba(255, 0, 102, 0.5);
            transition: all 0.3s ease;
            min-height: 50px;
        }

        button:active {
            transform: scale(0.95);
        }

        button:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        /* Modals */
        .modal {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(10px);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal.show {
            display: flex;
            animation: modalFade 0.3s ease;
        }

        @keyframes modalFade {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: linear-gradient(135deg, rgba(255, 0, 102, 0.95), rgba(148, 0, 211, 0.95));
            backdrop-filter: blur(20px);
            padding: clamp(20px, 4vw, 35px);
            border-radius: 25px;
            max-width: 90%;
            width: 500px;
            max-height: 80vh;
            overflow-y: auto;
            text-align: center;
            border: 3px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.8);
            animation: modalPop 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        @keyframes modalPop {
            0% { transform: scale(0.5) rotate(-10deg); opacity: 0; }
            100% { transform: scale(1) rotate(0); opacity: 1; }
        }

        .modal-content h2 {
            font-size: clamp(1.8em, 4vw, 2.5em);
            margin-bottom: 15px;
        }

        .modal-content p, .modal-content div {
            font-size: clamp(1.1em, 2.8vw, 1.4em);
            margin: 10px 0;
            line-height: 1.7;
        }

        .modal-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .modal-buttons button {
            flex: 1;
        }

        /* Shop Items */
        .shop-items {
            display: grid;
            gap: 15px;
            margin: 20px 0;
        }

        .shop-item {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 15px;
            border: 2px solid rgba(255, 215, 0, 0.3);
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        .shop-item:hover {
            border-color: #ffd700;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.4);
        }

        .shop-item-info {
            flex: 1;
            text-align: right;
        }

        .shop-item-name {
            font-size: 1.2em;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .shop-item-desc {
            font-size: 0.9em;
            opacity: 0.8;
        }

        .shop-item-price {
            color: #ffd700;
            font-size: 1.3em;
            font-weight: 700;
            margin-left: 15px;
        }

        .buy-btn {
            background: linear-gradient(135deg, #ffd700, #ff8c00);
            color: #000;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 700;
            transition: all 0.3s ease;
        }

        .buy-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        @keyframes popIn {
            0% { transform: translate(-50%, -50%) scale(0) rotate(-180deg); opacity: 0; }
            100% { transform: translate(-50%, -50%) scale(1) rotate(0); opacity: 1; }
        }
        
        @keyframes popOut {
            0% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
            100% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
        }

        @media (max-width: 768px) {
            .rules-box li {
                font-size: 0.85em;
            }
        }
    </style>
</head>
<body>
    <div class="hearts-bg" id="hearts-bg"></div>

    <!-- Start Screen -->
    <div class="start-screen" id="start-screen">
        <div class="start-content">
            <h1 class="start-title">ğŸ’‹ ××•× ×•×¤×•×œ ×”×ª×©×•×§×” ğŸ”¥</h1>
            
            <div class="start-description">
                <p>××©×—×§ ×œ×•×— ×¨×•×× ×˜×™ ×•×œ×•×”×˜ ×œ×–×•×’×•×ª ××‘×•×’×¨×™×!</p>
            </div>

            <div class="rules-box">
                <h3>ğŸ¯ ××™×š ××©×—×§×™×:</h3>
                <ul>
                    <li>ğŸ² ×”×˜×œ ×§×•×‘×™×™×” ×•×–×•×– ×¢×œ ×”×œ×•×—</li>
                    <li>â­ ×¢×‘×•×¨ ×‘×”×ª×—×œ×” ×•×§×‘×œ +10 ×œ×‘×‘×•×ª!</li>
                    <li>ğŸ  ×§× ×” "××§×•××•×ª ×ª×©×•×§×”" ×‘×œ×‘×‘×•×ª ×©×œ×š</li>
                    <li>ğŸ’‹ ×‘×¦×¢ ××©×™××•×ª ×—××•×ª ×•×§×‘×œ ×œ×‘×‘×•×ª</li>
                    <li>ğŸ’° ××™ ×©×“×•×¨×š ×¢×œ ×”××§×•× ×©×œ×š - ××©×œ× ××• ×¢×•×©×” ××©×™××”!</li>
                    <li>ğŸ›’ ×§× ×” ×‘×•× ×•×¡×™× ×‘×—× ×•×ª ×‘×œ×‘×‘×•×ª</li>
                    <li>ğŸ† ×”×¨××©×•×Ÿ ×œ-<strong>150 ×œ×‘×‘×•×ª</strong> ×× ×¦×—!</li>
                </ul>
            </div>

            <div class="level-selection">
                <h3>ğŸ”¥ ×‘×—×¨ ×¨××ª ×¢×•×¦××”:</h3>
                <div class="level-buttons">
                    <div class="level-btn" data-level="romantic">
                        <span class="icon">ğŸŒ¸</span>
                        <div class="name">×¨×•×× ×˜×™</div>
                        <div class="desc">×¢×“×™×Ÿ ×•××ª×•×§</div>
                    </div>
                    <div class="level-btn selected" data-level="hot">
                        <span class="icon">ğŸ”¥</span>
                        <div class="name">×—×</div>
                        <div class="desc">× ×•×¢×– ×•××¨×’×©</div>
                    </div>
                    <div class="level-btn" data-level="fire">
                        <span class="icon">ğŸ’¥</span>
                        <div class="name">××©</div>
                        <div class="desc">×”×›×™ ×œ×•×”×˜!</div>
                    </div>
                </div>
            </div>

            <div class="warning">
                âš ï¸ ×”××©×—×§ ××™×•×¢×“ ×œ××‘×•×’×¨×™× ×‘×œ×‘×“ 18+
            </div>

            <button class="start-game-btn" onclick="startGame()">
                ğŸ® ×”×ª×—×œ ××©×—×§
            </button>
        </div>
    </div>

    <!-- Game Screen -->
    <div class="game-container" id="game-container">
        <header>
            <h1>ğŸ’‹ ××•× ×•×¤×•×œ ×”×ª×©×•×§×” ğŸ”¥</h1>
        </header>

        <!-- Top Bar -->
        <div class="top-bar">
            <div class="players-section">
                <div class="player-card active" id="player1-info">
                    <div class="player-name">ğŸ’‹ ×©×—×§×Ÿ 1</div>
                    <div class="hearts-display"><span id="player1-hearts">5</span> â¤ï¸ ×œ×‘×‘×•×ª</div>
                    <div class="properties-owned">ğŸ  × ×›×¡×™×: <span id="player1-props">0</span></div>
                </div>

                <div class="player-card" id="player2-info">
                    <div class="player-name">ğŸ”¥ ×©×—×§×Ÿ 2</div>
                    <div class="hearts-display"><span id="player2-hearts">5</span> ğŸ’™ ×œ×‘×‘×•×ª</div>
                    <div class="properties-owned">ğŸ  × ×›×¡×™×: <span id="player2-props">0</span></div>
                </div>
            </div>

            <button class="shop-btn" onclick="openShop()">
                ğŸ›’<br>×—× ×•×ª
            </button>
        </div>

        <!-- Board -->
        <div class="board-wrapper">
            <div class="board-container">
                <div class="board" id="board"></div>
            </div>
        </div>

        <!-- Controls -->
        <div class="controls-section">
            <div class="dice-wrapper">
                <div class="dice" id="dice" onclick="rollDice()">ğŸ²</div>
            </div>
            <div class="buttons-row">
                <button onclick="rollDice()" id="roll-btn">ğŸ² ×”×˜×œ</button>
                <button onclick="nextTurn()" id="next-btn" disabled>âœ… ×”×‘×</button>
            </div>
        </div>
    </div>

    <!-- Card Modal -->
    <div class="modal" id="card-modal">
        <div class="modal-content" id="card-content"></div>
    </div>

    <!-- Buy Property Modal -->
    <div class="modal" id="buy-modal">
        <div class="modal-content">
            <h2 id="buy-title">ğŸ’‹ ×¤×™× ×ª ×”× ×©×™×§×•×ª</h2>
            <p id="buy-desc">××§×•× ×¨×•×× ×˜×™ ×©×›×œ ××™ ×©×“×•×¨×š ×¢×œ×™×• ×¦×¨×™×š ×œ×‘×¦×¢ ××©×™××”!</p>
            <p id="buy-price">××—×™×¨: 10 â¤ï¸</p>
            <div class="modal-buttons">
                <button onclick="buyProperty()">ğŸ’° ×§× ×”</button>
                <button onclick="closeBuyModal()">âŒ ×‘×™×˜×•×œ</button>
            </div>
        </div>
    </div>

    <!-- Pay Rent Modal -->
    <div class="modal" id="rent-modal">
        <div class="modal-content">
            <h2>ğŸ’¸ ×ª×©×œ×•×!</h2>
            <p id="rent-message"></p>
            <div class="modal-buttons">
                <button onclick="payRent()">ğŸ’° ×©×œ×</button>
                <button onclick="skipRent()">âŒ ×“×œ×’</button>
            </div>
        </div>
    </div>

    <!-- Shop Modal -->
    <div class="modal" id="shop-modal">
        <div class="modal-content">
            <h2>ğŸ›’ ×—× ×•×ª ×”×‘×•× ×•×¡×™×</h2>
            <p>×”×œ×‘×‘×•×ª ×©×œ×š: <strong id="shop-hearts">5</strong> â¤ï¸</p>
            <div class="shop-items">
                <div class="shop-item">
                    <div class="shop-item-info">
                        <div class="shop-item-name">âš¡ ×§×œ×£ ×›×•×—</div>
                        <div class="shop-item-desc">×‘×—×¨ ××ª ×”×§×œ×£ ×”×‘× ×©×œ×š</div>
                    </div>
                    <div class="shop-item-price">8 â¤ï¸</div>
                    <button class="buy-btn" onclick="buyBonus('power', 8)">×§× ×”</button>
                </div>
                <div class="shop-item">
                    <div class="shop-item-info">
                        <div class="shop-item-name">ğŸ² ×§×•×‘×™×™×” ×›×¤×•×œ×”</div>
                        <div class="shop-item-desc">×”×˜×œ 2 ×§×•×‘×™×•×ª ×‘×ª×•×¨ ×”×‘×</div>
                    </div>
                    <div class="shop-item-price">10 â¤ï¸</div>
                    <button class="buy-btn" onclick="buyBonus('double', 10)">×§× ×”</button>
                </div>
                <div class="shop-item">
                    <div class="shop-item-info">
                        <div class="shop-item-name">ğŸ’« ×“×™×œ×•×’ ××”×™×¨</div>
                        <div class="shop-item-desc">×§×¤×•×¥ 5 ××©×‘×¦×•×ª ×§×“×™××”</div>
                    </div>
                    <div class="shop-item-price">6 â¤ï¸</div>
                    <button class="buy-btn" onclick="buyBonus('skip', 6)">×§× ×”</button>
                </div>
                <div class="shop-item">
                    <div class="shop-item-info">
                        <div class="shop-item-name">ğŸ’‹ ×§×œ×£ ×•×•××•</div>
                        <div class="shop-item-desc">×§×œ×£ ××© ××§×¨××™!</div>
                    </div>
                    <div class="shop-item-price">15 â¤ï¸</div>
                    <button class="buy-btn" onclick="buyBonus('wow', 15)">×§× ×”</button>
                </div>
                <div class="shop-item">
                    <div class="shop-item-info">
                        <div class="shop-item-name">ğŸ”„ ×”×—×œ×¤×ª ××§×•××•×ª</div>
                        <div class="shop-item-desc">×”×—×œ×£ ××™×§×•× ×¢× ×”×©×•×ª×£</div>
                    </div>
                    <div class="shop-item-price">7 â¤ï¸</div>
                    <button class="buy-btn" onclick="buyBonus('swap', 7)">×§× ×”</button>
                </div>
                <div class="shop-item">
                    <div class="shop-item-info">
                        <div class="shop-item-name">ğŸ† ×’'×§×¤×•×˜</div>
                        <div class="shop-item-desc">3 ××©×™××•×ª ×‘×¨×¦×£ = 30 ×œ×‘×‘×•×ª</div>
                    </div>
                    <div class="shop-item-price">20 â¤ï¸</div>
                    <button class="buy-btn" onclick="buyBonus('jackpot', 20)">×§× ×”</button>
                </div>
            </div>
            <div class="modal-buttons" style="margin-top: 20px;">
                <button onclick="closeShop()">âŒ ×¡×’×•×¨ ×—× ×•×ª</button>
            </div>
        </div>
    </div>

    <!-- Winner Modal -->
    <div class="modal" id="winner-modal">
        <div class="modal-content">
            <h2>ğŸ‰ ×™×© ×× ×¦×—! ğŸ”¥</h2>
            <div id="winner-text"></div>
            <button onclick="location.reload()">ğŸ”„ ××©×—×§ ×—×“×©</button>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        // [×”×§×•×“ ×”××œ× ×©×œ ×”××©×—×§ ×™××©×™×š ×›××Ÿ - ×× ×™ ××§×¦×¨ ×›×™ ×–×” ××¨×•×š ××“×™]
        // ××‘×œ ×”×§×•×‘×¥ ×”××œ× ×™×›×œ×•×œ ××ª ×›×œ ×”×œ×•×’×™×§×”
        
        function createFloatingHearts() {
            const heartsContainer = document.getElementById('hearts-bg');
            const hearts = ['ğŸ’‹', 'â¤ï¸', 'ğŸ’•', 'ğŸ’—', 'ğŸ’–', 'ğŸ’'];
            for (let i = 0; i < 15; i++) {
                const heart = document.createElement('div');
                heart.className = 'floating-heart';
                heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                heart.style.left = Math.random() * 100 + '%';
                heart.style.animationDelay = Math.random() * 15 + 's';
                heart.style.fontSize = (Math.random() * 20 + 15) + 'px';
                heartsContainer.appendChild(heart);
            }
        }
        createFloatingHearts();

        let selectedLevel = 'hot';

        window.addEventListener('load', function() {
            document.querySelectorAll('.level-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const level = this.getAttribute('data-level');
                    selectedLevel = level;
                    document.querySelectorAll('.level-btn').forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                });
            });
        });

        function startGame() {
            document.getElementById('start-screen').classList.add('hidden');
            document.getElementById('game-container').classList.add('active');
            initBoard();
            updateUI();
        }

        const gameState = {
            currentPlayer: 1,
            level: 'hot',
            players: {
                1: { position: 0, hearts: 5, properties: [], bonuses: [] },
                2: { position: 0, hearts: 5, properties: [], bonuses: [] }
            },
            currentProperty: null,
            pendingBuy: null,
            pendingRent: null,
            diceValue: 0,
            gameOver: false
        };

        const properties = [
            { name: "× ×©×™×§×ª ×¤×¡×’×”", icon: "ğŸ’‹", price: 8, rent: 2, cardType: "sensual" },
            { name: "×©×™×—×ª ×¢×•××§", icon: "ğŸ’—", price: 10, rent: 3, cardType: "love" },
            { name: "×¦×—×•×§ ××©×•×ª×£", icon: "ğŸ˜‚", price: 8, rent: 2, cardType: "laugh" },
            { name: "×¢×™×¡×•×™ ×–×•×’×™", icon: "ğŸ’†", price: 12, rent: 3, cardType: "sensual" },
            { name: "×¡×•×“×•×ª ×œ×•×”×˜×™×", icon: "ğŸ”¥", price: 15, rent: 4, cardType: "love" },
            { name: "××©×—×§ ×ª×¤×§×™×“×™×", icon: "ğŸ­", price: 18, rent: 5, cardType: "mission" },
            { name: "×—×™×‘×•×§ ××¨×•×š", icon: "ğŸ¤—", price: 10, rent: 3, cardType: "sensual" },
            { name: "×¤× ×˜×–×™×•×ª", icon: "ğŸ˜ˆ", price: 20, rent: 6, cardType: "love" },
            { name: "×¨×™×§×•×“ ×œ××˜", icon: "ğŸ’ƒ", price: 12, rent: 3, cardType: "sensual" },
            { name: "×××ª ××• ×”×¢×–×”", icon: "ğŸ¯", price: 15, rent: 4, cardType: "mission" },
            { name: "××’×¢ ×¢×“×™×Ÿ", icon: "ğŸ‘", price: 10, rent: 3, cardType: "sensual" },
            { name: "×”×¨×¤×ª×§××•×ª", icon: "ğŸŒŸ", price: 18, rent: 5, cardType: "mission" },
            { name: "×œ×—×™×©×•×ª", icon: "ğŸ¤«", price: 12, rent: 3, cardType: "love" },
            { name: "×©×•×‘×‘×•×™×•×ª", icon: "ğŸ˜", price: 15, rent: 4, cardType: "sensual" },
            { name: "×—×œ×•××•×ª", icon: "ğŸ’­", price: 12, rent: 3, cardType: "love" },
            { name: "×§×¨×‘×”", icon: "ğŸ’‘", price: 20, rent: 6, cardType: "sensual" },
            { name: "××ª×’×¨ ×–×•×’×™", icon: "ğŸª", price: 15, rent: 4, cardType: "laugh" },
            { name: "×¢×™× ×™×™× ×‘×¢×™× ×™×™×", icon: "ğŸ‘ï¸", price: 12, rent: 3, cardType: "love" },
            { name: "×ª×©×•×§×”", icon: "ğŸ”¥", price: 25, rent: 7, cardType: "sensual" },
            { name: "×¨×•×× ×˜×™×§×”", icon: "ğŸŒ¹", price: 18, rent: 5, cardType: "love" },
            { name: "×¡×¤× ×‘×™×ª×™", icon: "ğŸ›", price: 22, rent: 6, cardType: "sensual" },
            { name: "×¦×—×•×§ ×¢×“ ×“××¢×•×ª", icon: "ğŸ˜†", price: 10, rent: 3, cardType: "laugh" },
            { name: "×’×Ÿ ×¢×“×Ÿ", icon: "ğŸŒ¸", price: 25, rent: 7, cardType: "mission" },
            { name: "××© ×•××™×", icon: "ğŸ’§", price: 18, rent: 5, cardType: "sensual" },
            { name: "×¨×’×¢×™ ×§×¡×", icon: "âœ¨", price: 20, rent: 6, cardType: "love" },
            { name: "××©×—×§×™×", icon: "ğŸ®", price: 12, rent: 3, cardType: "laugh" },
            { name: "×—×“×¨ ×—×©×•×š", icon: "ğŸ•¯ï¸", price: 22, rent: 6, cardType: "sensual" },
            { name: "××¡×¢ ×¤× ×™××™", icon: "ğŸŒ™", price: 15, rent: 4, cardType: "love" },
            { name: "×”×¤×ª×¢×•×ª", icon: "ğŸ", price: 18, rent: 5, cardType: "mission" },
            { name: "×©××™× ×™×•×ª", icon: "ğŸ¥‚", price: 15, rent: 4, cardType: "laugh" },
            { name: "×œ×™×œ×” ×œ×•×”×˜", icon: "ğŸŒƒ", price: 30, rent: 8, cardType: "sensual" },
            { name: "× ×©××” ×œ× ×©××”", icon: "ğŸ’–", price: 25, rent: 7, cardType: "love" },
            { name: "××¨××•×Ÿ ×”×ª×©×•×§×”", icon: "ğŸ°", price: 35, rent: 10, cardType: "sensual" },
        ];

        const boardCells = [
            { name: "×”×ª×—×œ×”", icon: "â­", type: "start" },
            { name: properties[0].name, icon: properties[0].icon, type: "property", propIndex: 0, price: properties[0].price, cardType: properties[0].cardType },
            { name: properties[1].name, icon: properties[1].icon, type: "property", propIndex: 1, price: properties[1].price, cardType: properties[1].cardType },
            { name: properties[2].name, icon: properties[2].icon, type: "property", propIndex: 2, price: properties[2].price, cardType: properties[2].cardType },
            { name: properties[3].name, icon: properties[3].icon, type: "property", propIndex: 3, price: properties[3].price, cardType: properties[3].cardType },
            { name: properties[4].name, icon: properties[4].icon, type: "property", propIndex: 4, price: properties[4].price, cardType: properties[4].cardType },
            { name: properties[5].name, icon: properties[5].icon, type: "property", propIndex: 5, price: properties[5].price, cardType: properties[5].cardType },
            { name: properties[6].name, icon: properties[6].icon, type: "property", propIndex: 6, price: properties[6].price, cardType: properties[6].cardType },
            { name: properties[7].name, icon: properties[7].icon, type: "property", propIndex: 7, price: properties[7].price, cardType: properties[7].cardType },
            { name: properties[8].name, icon: properties[8].icon, type: "property", propIndex: 8, price: properties[8].price, cardType: properties[8].cardType },
            { name: "×”×¤×ª×¢×”", icon: "ğŸ‰", type: "bonus" },
            { name: properties[9].name, icon: properties[9].icon, type: "property", propIndex: 9, price: properties[9].price, cardType: properties[9].cardType },
            { name: properties[10].name, icon: properties[10].icon, type: "property", propIndex: 10, price: properties[10].price, cardType: properties[10].cardType },
            { name: properties[11].name, icon: properties[11].icon, type: "property", propIndex: 11, price: properties[11].price, cardType: properties[11].cardType },
            { name: properties[12].name, icon: properties[12].icon, type: "property", propIndex: 12, price: properties[12].price, cardType: properties[12].cardType },
            { name: properties[13].name, icon: properties[13].icon, type: "property", propIndex: 13, price: properties[13].price, cardType: properties[13].cardType },
            { name: properties[14].name, icon: properties[14].icon, type: "property", propIndex: 14, price: properties[14].price, cardType: properties[14].cardType },
            { name: properties[15].name, icon: properties[15].icon, type: "property", propIndex: 15, price: properties[15].price, cardType: properties[15].cardType },
            { name: properties[16].name, icon: properties[16].icon, type: "property", propIndex: 16, price: properties[16].price, cardType: properties[16].cardType },
            { name: properties[17].name, icon: properties[17].icon, type: "property", propIndex: 17, price: properties[17].price, cardType: properties[17].cardType },
            { name: "×›×œ× ×–×•×’×™", icon: "ğŸ”’", type: "jail" },
            { name: properties[18].name, icon: properties[18].icon, type: "property", propIndex: 18, price: properties[18].price, cardType: properties[18].cardType },
            { name: properties[19].name, icon: properties[19].icon, type: "property", propIndex: 19, price: properties[19].price, cardType: properties[19].cardType },
            { name: properties[20].name, icon: properties[20].icon, type: "property", propIndex: 20, price: properties[20].price, cardType: properties[20].cardType },
            { name: properties[21].name, icon: properties[21].icon, type: "property", propIndex: 21, price: properties[21].price, cardType: properties[21].cardType },
            { name: properties[22].name, icon: properties[22].icon, type: "property", propIndex: 22, price: properties[22].price, cardType: properties[22].cardType },
            { name: properties[23].name, icon: properties[23].icon, type: "property", propIndex: 23, price: properties[23].price, cardType: properties[23].cardType },
            { name: properties[24].name, icon: properties[24].icon, type: "property", propIndex: 24, price: properties[24].price, cardType: properties[24].cardType },
            { name: properties[25].name, icon: properties[25].icon, type: "property", propIndex: 25, price: properties[25].price, cardType: properties[25].cardType },
            { name: properties[26].name, icon: properties[26].icon, type: "property", propIndex: 26, price: properties[26].price, cardType: properties[26].cardType },
            { name: properties[27].name, icon: properties[27].icon, type: "property", propIndex: 27, price: properties[27].price, cardType: properties[27].cardType },
            { name: "×—×•×¤×©", icon: "ğŸ†“", type: "free" },
            { name: properties[28].name, icon: properties[28].icon, type: "property", propIndex: 28, price: properties[28].price, cardType: properties[28].cardType },
            { name: properties[29].name, icon: properties[29].icon, type: "property", propIndex: 29, price: properties[29].price, cardType: properties[29].cardType },
            { name: properties[30].name, icon: properties[30].icon, type: "property", propIndex: 30, price: properties[30].price, cardType: properties[30].cardType },
            { name: properties[31].name, icon: properties[31].icon, type: "property", propIndex: 31, price: properties[31].price, cardType: properties[31].cardType },
            { name: properties[32].name, icon: properties[32].icon, type: "property", propIndex: 32, price: properties[32].price, cardType: properties[32].cardType },
            { name: "××©××œ×”", icon: "â­", type: "wish" },
            { name: "×›××¢×˜ ×©×", icon: "ğŸ", type: "almost" },
            { name: "×”××”×‘×” ×”×’×“×•×œ×”", icon: "ğŸ’–", type: "finish" }
        ];

        const cardsDB = {
            romantic: {
                sensual: [
                    "ğŸ’† ×¢×™×¡×•×™ ×›×ª×¤×™×™×\n\n×©×›×‘×• ×‘××•×¤×Ÿ × ×•×—. ××—×“ ××›× ×™×¢×¡×” ××ª ×”×›×ª×¤×™×™× ×•×”×¦×•×•××¨ ×©×œ ×”×©× ×™ ×‘××©×š ×“×§×” ×©×œ××”. ×”×©×ª××©×• ×‘×œ×—×¥ × ×¢×™×.",
                    "ğŸ˜˜ × ×©×™×§×” ××¨×•×›×” ×¢×œ ×”××¦×—\n\n××—×–×• ××ª ×¤× ×™ ×”×©×•×ª×£ ×‘×¢×“×™× ×•×ª ×•×ª× ×• × ×©×™×§×” ××¨×•×›×” ×•×¢×“×™× ×” ×¢×œ ×”××¦×—. ×”×—×–×™×§×• ×œ×¤×—×•×ª 10 ×©× ×™×•×ª.",
                    "ğŸ¤— ×—×™×‘×•×§ ×©×œ 30 ×©× ×™×•×ª\n\n×¢××“×• ×–×” ××•×œ ×–×” ×•×—×‘×§×• ×—×™×‘×•×§ ×—× ×•××¨×•×š ×œ××©×š 30 ×©× ×™×•×ª ××œ××•×ª. ×¢×¦××• ×¢×™× ×™×™× ×•×ª×¨×’×™×©×• ××ª ×”×§×¨×‘×”.",
                    "ğŸ‘ ×œ×™×˜×•×£ ×’×‘ ×¢×“×™×Ÿ\n\n×©×›×‘×• ×¢×œ ×”×‘×˜×Ÿ. ×”×©×•×ª×£ ×™×œ×˜×£ ×œ×›× ××ª ×”×’×‘ ×‘×ª× ×•×¢×•×ª ×¢×“×™× ×•×ª ×•××™×˜×™×•×ª ×œ××©×š 2 ×“×§×•×ª.",
                    "ğŸ’‹ × ×©×™×§×•×ª ×¢×œ ×”×œ×—×™×™×\n\n×ª× ×• ×œ×©×•×ª×£ 10 × ×©×™×§×•×ª ×§×˜× ×•×ª ×•×¢×“×™× ×•×ª ×¢×œ ×”×œ×—×™×™× - 5 ×‘×›×œ ×¦×“. ××—×ª ××—×¨×™ ×”×©× ×™×™×”."
                ],
                love: [
                    "ğŸ’• ×©××œ×”: ××” ××ª×” ×”×›×™ ××•×”×‘ ×‘×™?\n\n×¡×¤×¨ ×œ×©×•×ª×£ 3 ×“×‘×¨×™× ×¡×¤×¦×™×¤×™×™× ×©××ª×” ××•×”×‘ ×‘×•/×”. ×”×™×• ×›× ×™× ×•××¤×•×¨×˜×™×.",
                    "âœ¨ ×©××œ×”: ×¡×¤×¨ ×¨×’×¢ ×™×¤×” ×©×œ× ×•\n\n×ª××¨ ×¨×’×¢ ×¡×¤×¦×™×¤×™ ××”×–××Ÿ ×©×œ×›× ×‘×™×—×“ ×©×’×¨× ×œ×š ×œ×”×¨×’×™×© ××™×•×—×“. ××ª×™ ×–×” ×”×™×”? ××” ×§×¨×”?",
                    "â¤ï¸ ×©××œ×”: ××” ×’×•×¨× ×œ×š ×œ×”×¨×’×™×© ××”×•×‘?\n\n×¡×¤×¨ ×œ×©×•×ª×£ ×‘××™×–×” ××—×•×•×ª ××• ××™×œ×™× ××ª×” ×”×›×™ ××¨×’×™×© ×©×”×•×/×”×™× ××•×”×‘/×ª ××•×ª×š.",
                    "ğŸ’– ×©××œ×”: ×ª××¨ ××ª ×”××”×‘×” ×©×œ× ×•\n\n×‘××™×œ×™× ×©×œ×š - ××™×š ×”×™×™×ª ××ª××¨ ××ª ×”×§×©×¨ ×‘×™× ×™× ×•? ××” ××™×™×—×“ ××•×ª× ×•?",
                    "ğŸŒŸ ×©××œ×”: ××” ×”×—×œ×•× ×©×œ×š ×¢×‘×•×¨×™× ×•?\n\n×¡×¤×¨ ×œ×©×•×ª×£ ×¢×œ ×—×œ×•× ××• ××˜×¨×” ×©×™×© ×œ×š ×¢×‘×•×¨ ×”×¢×ª×™×“ ×”××©×•×ª×£ ×©×œ×›×."
                ],
                laugh: [
                    "ğŸ¤ ××©×™××”: ×©×™×¨×• ×©×™×¨ ××”×‘×” ××’×•×—×š\n\n×‘×—×¨×• ×©×™×¨ ××”×‘×” ×™×“×•×¢ ×•×©×™×¨×• ××•×ª×• ×‘×™×—×“ ×‘×§×•×œ ×¨×, ×‘×¦×•×¨×” ××•×’×–××ª ×•××¦×—×™×§×” ×›×›×œ ×”××¤×©×¨!",
                    "ğŸ“ ××©×™××”: ×ª×—××™× ×‘×—×¨×•×–×™×\n\n×ª× ×• ×œ×©×•×ª×£ 3 ××—×××•×ª ×©××ª×—×¨×–×•×ª. ×œ×“×•×’××”: '××ª/×” ×™×¤×” ×›××• ×•×¨×“, ×•×× ×™ ×‘×œ×¢×“×™×™×š ×œ×‘×“'",
                    "ğŸ˜‚ ××©×™××”: ×¢×©×• ×¤×¨×¦×•×¤×™× ××¦×—×™×§×™×\n\n×¢××“×• ×–×” ××•×œ ×–×” ×•×¢×©×• ×¤×¨×¦×•×¤×™× ××¦×—×™×§×™×. ××™ ×©×¦×•×—×§ ×¨××©×•×Ÿ - ××¤×¡×™×“!",
                    "ğŸ’ƒ ××©×™××”: ×¨×™×§×•×“ ××’×•×—×š\n\n×¨×§×“×• ×‘×™×—×“ ×¨×™×§×•×“ ×—×•×¤×©×™ ×•××’×•×—×š ×œ××©×š ×“×§×” ×©×œ××”. ×ª×”×™×• ×™×¦×™×¨×ª×™×™× ×‘×ª× ×•×¢×•×ª!",
                    "ğŸ¤­ ××©×™××”: ×—×§×• ×–×” ××ª ×–×”\n\n×—×§×• ××—×“ ××ª ×”×©× ×™ - ×ª× ×•×¢×•×ª, ×“×™×‘×•×¨, ×”×œ×™×›×”. ×¢×©×• ××ª ×–×” ×œ××©×š ×“×§×”. × ×¡×• ×œ×”×™×•×ª ××¦×—×™×§×™×!"
                ],
                mission: [
                    "ğŸµ ××©×™××”: ×‘×—×¨×• ×©×™×¨ ×©×œ×›×\n\n×‘×—×¨×• ×‘×™×—×“ ×©×™×¨ ××—×“ ×©××™×™×¦×’ ××ª ×”×–×•×’×™×•×ª ×©×œ×›×. ×”×¤×¢×™×œ×• ××•×ª×• ×¢×›×©×™×• ×•×”××–×™× ×• ×œ×• ×™×—×“.",
                    "ğŸ’• ××©×™××”: ×ª×›× × ×• ×“×™×™×˜ ×¨×•×× ×˜×™\n\n×©×‘×• ×™×—×“ ×•×ª×›× × ×• ×‘×“×™×•×§ ××ª ×”×“×™×™×˜ ×”×‘× ×©×œ×›× - ×œ××Ÿ? ××ª×™? ××” ×ª×¢×©×•? ×ª×§×‘×¢×• ×ª××¨×™×š!",
                    "âœ¨ ××©×™××”: 5 ×—×œ×•××•×ª ××©×•×ª×¤×™×\n\n×›×ª×‘×• ×‘×™×—×“ ×¨×©×™××” ×©×œ 5 ×—×œ×•××•×ª ××• ××˜×¨×•×ª ×©×™×© ×œ×›× ×‘×™×—×“ ×œ×¢×ª×™×“.",
                    "â˜• ××©×™××”: ×”×›×™× ×• ××©×§×”\n\n×œ×›×• ×œ××˜×‘×— ×•×”×›×™× ×• ××—×“ ×œ×©× ×™ ××©×§×” - ×§×¤×”, ×ª×”, ××• ×›×œ ××©×§×” ×©×”×©×•×ª×£ ××•×”×‘.",
                    "ğŸ’ ××©×™××”: ××—×××” ××¨×•×›×”\n\n×ª× ×• ×–×” ×œ×–×” ××—×××” ××¨×•×›×” ×•××¤×•×¨×˜×ª. ×œ×¤×—×•×ª 5 ××©×¤×˜×™× ×¢×œ ××” ×©××ª× ××¢×¨×™×›×™× ×‘×©×•×ª×£."
                ]
            },
            hot: {
                sensual: [
                    "ğŸ’‹ × ×©×™×§×” ××¨×•×›×” ×•××™×˜×™×ª\n\n×§×œ×•×–-××¤: ×”×¦××“×• ×©×¤×ª×™×™× ×•× ×©×§×• × ×©×™×§×” ××—×ª ××¨×•×›×” ×•××™×˜×™×ª ×œ××©×š ×“×§×” ×©×œ××” ×‘×œ×™ ×œ×”×¤×¡×™×§. ×§×—×• ××ª ×”×–××Ÿ.",
                    "ğŸ˜˜ ×¢×™×¡×•×™ ×’×‘ + × ×©×™×§×•×ª\n\n××—×“ ×©×•×›×‘ ×¢×œ ×”×‘×˜×Ÿ. ×”×©× ×™ ××¢×¡×” ××ª ×”×’×‘ ×‘×ª× ×•×¢×•×ª ×¢××•×§×•×ª, ×•××•×¡×™×£ × ×©×™×§×•×ª ×§×œ×•×ª ×œ××•×¨×š ×¢××•×“ ×”×©×“×¨×”. 5 ×“×§×•×ª.",
                    "ğŸ‘ ×’×¢ ×‘××§×•× ×”××”×•×‘\n\n×©××œ×• ××ª ×”×©×•×ª×£ - ××™×¤×” ×”×•× ×”×›×™ ××•×”×‘ ×©× ×•×’×¢×™× ×‘×•? ×’×¢×• ×©× ×‘×¢×“×™× ×•×ª ×œ××©×š 3 ×“×§×•×ª ×¨×¦×•×¤×•×ª.",
                    "ğŸ’ƒğŸ•º ×¨×™×§×•×“ ×¦××•×“\n\n×”×¤×¢×™×œ×• ×©×™×¨ ××™×˜×™. ×¨×§×“×• ×¦××•×“×™× ×œ×’××¨×™ - ×’×•×£ ×‘×’×•×£, ×‘×œ×™ ×¨×•×•×— ×‘×™× ×™×›×. 5 ×“×§×•×ª ×©×œ ×§×¨×‘×”.",
                    "ğŸ’† ×¢×™×¡×•×™ ×©××Ÿ ××œ×\n\n×”×›×™× ×• ×©××Ÿ ×¢×™×¡×•×™ ××• ×§×¨×. ×¢×¡×• ××ª ×›×œ ×”×’×•×£ - ×’×‘, ×¨×’×œ×™×™×, ×™×“×™×™×, ×›×ª×¤×™×™×. 10 ×“×§×•×ª ××œ××•×ª."
                ],
                love: [
                    "××” ×”×¤× ×˜×–×™×” ×”×¡×§×¡×™×ª ×©×œ×š ××™×ª×™? ×ª××¨ ×‘×¤×¨×˜×™× ××“×•×™×§×™× ğŸ˜",
                    "××™×¤×” ×‘×’×•×£ ×©×œ×™ ×”×›×™ ×ª×¨×¦×” ×œ×’×¢×ª ×¢×›×©×™×•? ×œ××” ×“×•×•×§× ×©×? ğŸ‘",
                    "××” ×”×“×‘×¨ ×”×›×™ ××¢×•×¨×¨ ×©×¢×©×™× ×• ×‘×™×—×“? ×ª××¨ ××ª ×”×¨×’×¢ ğŸ”¥",
                    "×ª××¨ ×œ×™ ××ª ×”×œ×™×œ×” ×”××™×“×™××œ×™ ×©×œ×š - ××”×ª×—×œ×” ×•×¢×“ ×¡×•×£ ğŸŒ™",
                    "××” ×”×™×™×ª ×¢×•×©×” ×œ×™ ×¢×›×©×™×• ×× ×œ× ×”×™×• ×—×•×§×™× ×•×’×‘×•×œ×•×ª? ğŸ˜ˆ"
                ],
                laugh: [
                    "strip poker - 3 ×¡×™×‘×•×‘×™×! ×›×œ ×”×¤×¡×“ = ×”×¡×¨×ª ×¤×¨×™×˜ ğŸ´ğŸ‘•",
                    "×¨×™×§×•×“ ×¡×§×¡×™ ××¦×—×™×§ - ×ª×¢×©×” ××ª ×”××™×˜×‘ ×©×œ×š ×‘××©×š ×“×§×” ğŸ’ƒğŸ˜‚",
                    "×ª× ×• ×›×™× ×•×™ ×œ×•×”×˜ ×•×—××•×“ ×–×” ×œ×–×” - ×”×›×™ ×™×¦×™×¨×ª×™ ×©×ª×•×›×œ×• ğŸ˜",
                    "×¢×©×• ×¤×•×–×” ×¨×•×× ×˜×™×ª ×¡×•×¤×¨ ××•×’×–××ª - ×ª×¦×œ××•! ğŸ“¸",
                    "×©×—×§×• ×××ª ××• ×”×¢×–×” - 2 ×¡×™×‘×•×‘×™× ×—××™× ×•×××™×ª×™×™× ğŸ¯"
                ],
                mission: [
                    "×¦×œ××• 5 ×ª××•× ×•×ª ×—×•×©× ×™×•×ª ×™×—×“ - ×ª×”×™×• ×™×¦×™×¨×ª×™×™× ğŸ“¸",
                    "××©×—×§ ×ª×¤×§×™×“×™×: ×–×¨×™× ×‘×‘×¨ ×©××ª×—×™×œ×™× ×œ×¤×œ×¨×˜×˜ - 5 ×“×§×•×ª ğŸ·",
                    "×”××›×™×œ×• ××—×“ ××ª ×”×©× ×™ ×¤×™×¨×•×ª ×©×•× ×™× ×‘×¢×™× ×™×™× ×¢×¦×•××•×ª ğŸ“",
                    "×‘× ×• ××•×•×™×¨×” ×¨×•×× ×˜×™×ª ××•×©×œ××ª ×ª×•×š 5 ×“×§×•×ª - × ×¨×•×ª, ××•×–×™×§×”, ××•×¨ ×¢××•× ğŸ•¯ï¸",
                    "×ª×›× × ×• ×—×•×¤×©×ª ×—×œ×•××•×ª ×¨×•×× ×˜×™×ª - ×œ××Ÿ? ××” ×ª×¢×©×• ×©×? âœˆï¸"
                ]
            },
            fire: {
                sensual: [
                    "ğŸ‘• ×”×¤×©×˜×ª ×¤×¨×™×˜ ××”×©×•×ª×£\n\n×”×¤×©×™×˜×• ×¤×¨×™×˜ ×œ×‘×•×© ××—×“ ××”×©×•×ª×£ - ××‘×œ ×ª×¢×©×• ××ª ×–×” ×œ××˜, ×‘×¢×“×™× ×•×ª ×•×‘×¦×•×¨×” ××¢×•×¨×¨×ª.",
                    "ğŸ’†ğŸ”¥ ×¢×™×¡×•×™ ×©××Ÿ ×—× ×‘×¨×’×™×©×™×\n\n×”×›×™× ×• ×©××Ÿ ×¢×™×¡×•×™ ××—×•××. ×¢×¡×• ××ª ×”××§×•××•×ª ×”×¨×’×™×©×™× ×‘×’×•×£ - ×¦×•×•××¨, ××•×–× ×™×™×, ×¤× ×™× ×¤× ×™××™×•×ª ×©×œ ×”×™×¨×›×™×™×. 5 ×“×§×•×ª.",
                    "ğŸ’‹ × ×©×™×§×•×ª ×¢×œ ×›×œ ×”×’×•×£\n\n×ª× ×• ×œ×©×•×ª×£ × ×©×™×§×•×ª ×¢×œ ×›×œ ×—×œ×§×™ ×”×’×•×£. ××œ ×ª×¤×¡×¤×¡×• ×©×•× ××§×•×. ×§×—×• ××ª ×”×–××Ÿ - ×“×§×” ×©×œ××” ×œ×¤×—×•×ª.",
                    "ğŸ› ××§×œ×—×ª/×××‘×˜×™×” ×—××” ××©×•×ª×¤×ª\n\n×”×™×›× ×¡×• ×™×—×“ ×œ××§×œ×—×ª ××• ×××‘×˜×™×”. ×¡×‘× ×• ×•×©×˜×¤×• ××—×“ ××ª ×”×©× ×™ ×‘×¢×“×™× ×•×ª ×•×‘×—×•×©× ×™×•×ª.",
                    "ğŸ’ƒğŸ”¥ ×¨×™×§×•×“ ×¡×§×¡×™ ×¤×¨×˜×™\n\n×”×¤×¢×™×œ×• ××•×–×™×§×” ×—×•×©× ×™×ª. ××—×“ × ×•×ª×Ÿ ×¨×™×§×•×“ ×¡×§×¡×™ ×¤×¨×˜×™ ×œ×©×•×ª×£ - ×ª×¤×©×™×˜×• ×œ××˜ ×¤×¨×™×˜×™ ×œ×‘×•×© ×ª×•×š ×›×“×™."
                ],
                love: [
                    "ğŸ˜ˆ ×©××œ×”: ×”×¡×•×“ ×”××™× ×™ ×”×¢××•×§\n\n××” ×”×¡×•×“ ×”××™× ×™ ×”×›×™ ×¢××•×§ ×©×œ×š? ××©×”×• ×©×××© ×œ× ×¡×™×¤×¨×ª ×œ××£ ××—×“. ×¡×¤×¨ ×”×›×œ.",
                    "ğŸ’‹ ×©××œ×”: ××§×•× ×¦×™×‘×•×¨×™ ×œ×•×”×˜\n\n×‘××™×–×” ××§×•× ×¦×™×‘×•×¨×™ ×”×›×™ ×”×ª××•×•×™×ª ×œ× ×©×§ ××• ×œ×¢×©×•×ª ××©×”×• ××™× ×˜×™××™? ×¡×¤×¨ ×œ××” ×“×•×•×§× ×©×.",
                    "ğŸ’­ ×©××œ×”: ×”×—×œ×•× ×”×¨×˜×•×‘ ×‘×¤×™×¨×•×˜\n\n×¡×¤×¨ ×‘×¤×™×¨×•×˜ ××œ× ××ª ×”×—×œ×•× ×”×¨×˜×•×‘ ×”××—×¨×•×Ÿ ×©×œ×š ×¢×œ×™×™. ×›×œ ×”×¤×¨×˜×™× - ××”, ××™×š, ××™×¤×”.",
                    "ğŸ”¥ ×©××œ×”: ×”×¤× ×˜×–×™×” ×”×¡×•×“×™×ª\n\n××” ×”×¤× ×˜×–×™×” ×©××£ ×¤×¢× ×œ× ×”×¢×–×ª ×œ×¡×¤×¨ ×œ×™? ×”×–××Ÿ ×”×–×” ×–×” - ×¡×¤×¨ ×‘××•×¤×Ÿ ××œ×.",
                    "ğŸ˜ ×©××œ×”: ×”×—×œ×§ ×©××¢×•×¨×¨\n\n××™×–×” ×—×œ×§ ×‘×’×•×£ ×©×œ×™ ×”×›×™ ××¢×•×¨×¨ ××•×ª×š ×•×œ××” ×‘×“×™×•×§? ××” ×™×© ×‘××§×•× ×”×–×”?"
                ],
                laugh: [
                    "ğŸ´ğŸ”¥ ××©×—×§: Strip Poker - 5 ×¡×™×‘×•×‘×™×\n\n×©×—×§×• 5 ×¡×™×‘×•×‘×™× ×©×œ ×¤×•×§×¨ ××• ××©×—×§ ×§×œ×¤×™× ××—×¨. ×›×œ ×”×¤×¡×“ = ×¤×¨×™×˜ ×œ×‘×•×© ×™×•×¨×“. ××™ ×©× ×©××¨ ×¢× ×”×›×™ ××¢×˜?",
                    "ğŸ¾ ××©×—×§: ×‘×§×‘×•×§ ×—×\n\n×¡×•×‘×‘×• ×‘×§×‘×•×§. ×œ××™×–×” ×›×™×•×•×Ÿ ×©×”×‘×§×‘×•×§ ××¦×‘×™×¢ - ×”××“× ×”×–×” ×¦×¨×™×š ×œ×‘×¦×¢ ××©×™××” ×—××” ×©×”×©× ×™ ×§×•×‘×¢.",
                    "ğŸ˜ˆ ××©×—×§: ×××ª ××• ×”×¢×–×” ××§×¡×˜×¨×™×\n\n3 ×¡×™×‘×•×‘×™× ×©×œ ×××ª ××• ×”×¢×–×” ××§×¡×˜×¨×™×. ×”×©××œ×•×ª ×•×”××©×™××•×ª ×—×™×™×‘×•×ª ×œ×”×™×•×ª ×¨××” ××—×¨×™ ×œ××‘×•×’×¨×™× ×‘×œ×‘×“!"
                ],
                mission: [
                    "ğŸ”¥ğŸ”¥ğŸ”¥ ××©×™××”: ×¢×•×©×™× ××” ×©×©× ×™× ×• ×¨×•×¦×™×\n\n10 ×“×§×•×ª ×—×•×¤×©×™×•×ª - ×ª×¢×©×• ×‘×“×™×•×§ ××” ×©×©× ×™×™×›× ×¨×•×¦×™×. ××™×Ÿ ×›×œ×œ×™×, ××™×Ÿ ×’×‘×•×œ×•×ª.",
                    "ğŸ“‹ğŸ”¥ ××©×™××”: ×”×¤× ×˜×–×™×” ×”×‘××” ×‘×¨×©×™××”\n\n×× ×™×© ×œ×›× ×¨×©×™××ª ×¤× ×˜×–×™×•×ª - ×‘×¦×¢×• ××ª ×”×‘××” ×‘×¨×©×™××”. ×× ××™×Ÿ - ×¦×¨×• ×¨×©×™××” ×•×ª×ª×—×™×œ×•!",
                    "ğŸ˜ˆ ××©×™××”: ×©×œ×™×˜×” ××œ××” 5 ×“×§×•×ª\n\n×©×—×§×Ÿ ××—×“ ××§×‘×œ ×©×œ×™×˜×” ××œ××” ×¢×œ ×”×©× ×™ ×œ-5 ×“×§×•×ª. ×”×•× ××—×œ×™×˜ ××” ×§×•×¨×” - ×”×›×œ."
                ]
            }
        };

        // ×¤×•× ×§×¦×™×•×ª × ×•×¡×¤×•×ª ×™××©×™×›×• ×›××Ÿ...
        // (×”×§×•×“ ×”××œ× ××¨×•×š ××“×™ ××– ×× ×™ ××§×¦×¨)
        
        function initBoard() {
            gameState.level = selectedLevel;
            const board = document.getElementById('board');
            board.innerHTML = '';
            
            boardCells.forEach((cell, index) => {
                const cellDiv = document.createElement('div');
                let className = 'cell';
                if (cell.type === 'corner' || cell.type === 'start' || cell.type === 'finish') {
                    className += ' corner';
                }
                if (cell.type === 'property') {
                    className += ' buyable';
                }
                cellDiv.className = className;
                
                let priceHTML = '';
                if (cell.price) {
                    priceHTML = `<div class="cell-price">${cell.price}â¤ï¸</div>`;
                }
                
                cellDiv.innerHTML = `
                    <div class="cell-icon">${cell.icon}</div>
                    <div class="cell-name">${cell.name}</div>
                    ${priceHTML}
                `;
                cellDiv.id = `cell-${index}`;
                
                board.appendChild(cellDiv);
            });
            
            updatePawns();
        }

        function updatePawns() {
            document.querySelectorAll('.pawn').forEach(p => p.remove());
            
            Object.keys(gameState.players).forEach(playerNum => {
                const pos = gameState.players[playerNum].position;
                const cell = document.getElementById(`cell-${pos}`);
                if (cell) {
                    const pawn = document.createElement('div');
                    pawn.className = `pawn player${playerNum}`;
                    pawn.textContent = playerNum === '1' ? 'ğŸ’‹' : 'ğŸ”¥';
                    cell.appendChild(pawn);
                }
            });

            document.querySelectorAll('.owner-badge').forEach(b => b.remove());
            document.querySelectorAll('.cell').forEach(cell => {
                cell.classList.remove('owned-player1', 'owned-player2');
            });
            
            boardCells.forEach((cell, index) => {
                if (cell.type === 'property') {
                    const owner = getPropertyOwner(cell.propIndex);
                    const cellEl = document.getElementById(`cell-${index}`);
                    if (owner) {
                        cellEl.classList.add(`owned-player${owner}`);
                        const badge = document.createElement('div');
                        badge.className = 'owner-badge';
                        badge.textContent = owner === 1 ? 'ğŸ’‹' : 'ğŸ”¥';
                        cellEl.appendChild(badge);
                    }
                }
            });
        }

        function getPropertyOwner(propIndex) {
            if (gameState.players[1].properties.includes(propIndex)) return 1;
            if (gameState.players[2].properties.includes(propIndex)) return 2;
            return null;
        }

        function rollDice() {
            if (gameState.gameOver) return;
            
            const dice = document.getElementById('dice');
            const rollBtn = document.getElementById('roll-btn');
            
            rollBtn.disabled = true;
            dice.classList.add('rolling');
            
            if (navigator.vibrate) navigator.vibrate(100);
            
            setTimeout(() => {
                const value = Math.floor(Math.random() * 6) + 1;
                gameState.diceValue = value;
                dice.textContent = value;
                dice.classList.remove('rolling');
                
                movePlayer(value);
                
                document.getElementById('next-btn').disabled = false;
            }, 600);
        }

        function movePlayer(steps) {
            const player = gameState.currentPlayer;
            const oldPos = gameState.players[player].position;
            let newPos = oldPos + steps;
            
            let passedStart = false;
            if (oldPos > 0 && newPos >= boardCells.length) {
                newPos = newPos - boardCells.length;
                passedStart = true;
            } else if (newPos >= boardCells.length) {
                newPos = boardCells.length - 1;
            }
            
            if (passedStart) {
                gameState.players[player].hearts += 10;
                showCard('â­ ×¢×‘×¨×ª ×‘×”×ª×—×œ×”!', '×§×™×‘×œ×ª ×‘×•× ×•×¡!', '+10 ×œ×‘×‘×•×ª â¤ï¸');
                setTimeout(() => {
                    closeCard();
                    continueMove(player, newPos);
                }, 2000);
                updateUI();
                return;
            }
            
            gameState.players[player].position = newPos;
            updatePawns();
            updateUI();
            
            const cell = boardCells[newPos];
            handleCell(cell, newPos);
        }

        function continueMove(player, newPos) {
            gameState.players[player].position = newPos;
            updatePawns();
            updateUI();
            
            const cell = boardCells[newPos];
            handleCell(cell, newPos);
        }

        function handleCell(cell, index) {
            if (cell.type === 'property') {
                const owner = getPropertyOwner(cell.propIndex);
                drawCardFromProperty(cell);
                
                setTimeout(() => {
                    if (owner === null) {
                        gameState.pendingBuy = { cell, index };
                    } else if (owner !== gameState.currentPlayer) {
                        gameState.pendingRent = { cell, owner };
                    }
                }, 500);
            } else if (cell.type === 'bonus') {
                gameState.players[gameState.currentPlayer].hearts += 5;
                showCard('ğŸ‰ ×‘×•× ×•×¡ ××™×•×—×“!', '×§×™×‘×œ×ª ×‘×•× ×•×¡ ×©×œ 5 ×œ×‘×‘×•×ª ××ª× ×”! ğŸ', '+5 ×œ×‘×‘×•×ª â¤ï¸');
                updateUI();
                checkWinner();
            }
            // ... ×©××¨ ×”×˜×™×¤×•×œ×™× ×‘×ª××™×
        }

        function drawCardFromProperty(cell) {
            const level = gameState.level;
            const cardType = cell.cardType;
            const cards = cardsDB[level][cardType];
            const card = cards[Math.floor(Math.random() * cards.length)];
            
            showCard(cell.icon + ' ' + cell.name, card, '');
            updateUI();
        }

        function showCard(title, content, reward) {
            const cardContent = document.getElementById('card-content');
            const isMission = content.includes('\n\n');
            
            if (isMission) {
                const parts = content.split('\n\n');
                const cardTitle = parts[0];
                const instructions = parts[1];
                
                cardContent.innerHTML = `
                    <h2>${title}</h2>
                    <div style="background: rgba(0, 0, 0, 0.3); padding: 15px; border-radius: 15px; margin: 15px 0;">
                        <p style="color: #ff69b4; font-weight: 700;">${cardTitle}</p>
                    </div>
                    <div style="background: rgba(255, 255, 255, 0.1); padding: 20px; border-radius: 15px; margin: 15px 0;">
                        <p style="white-space: pre-line;">${instructions}</p>
                    </div>
                    <div style="background: rgba(255, 215, 0, 0.15); padding: 15px; border-radius: 10px;">
                        <p style="color: #ffd700;">
                            âœ… ×‘×™×¦×¢×ª×? +5 ×œ×‘×‘×•×ª â¤ï¸<br>
                            âŒ ×“×™×œ×’×ª×? -2 ×œ×‘×‘×•×ª ğŸ’”
                        </p>
                    </div>
                    <div style="display: flex; gap: 10px; margin-top: 20px;">
                        <button onclick="completeMission(true)" style="flex: 1; background: linear-gradient(135deg, #00ff00, #00cc00);">
                            âœ… ×‘×™×¦×¢× ×•!
                        </button>
                        <button onclick="completeMission(false)" style="flex: 1; background: linear-gradient(135deg, #ff0066, #cc0052);">
                            âŒ ×“×™×œ×’× ×•
                        </button>
                    </div>
                `;
            } else {
                cardContent.innerHTML = `
                    <h2>${title}</h2>
                    <p>${content}</p>
                    <p style="color: #ffd700; font-weight: 900;">${reward}</p>
                    <button onclick="closeCard()">âœ… ×”××©×š</button>
                `;
            }
            
            document.getElementById('card-modal').classList.add('show');
        }

        function completeMission(completed) {
            const player = gameState.currentPlayer;
            
            if (completed) {
                gameState.players[player].hearts += 5;
            } else {
                gameState.players[player].hearts -= 2;
                if (gameState.players[player].hearts < 0) gameState.players[player].hearts = 0;
            }
            
            updateUI();
            closeCard();
            checkWinner();
        }

        function closeCard() {
            document.getElementById('card-modal').classList.remove('show');
            
            if (gameState.pendingBuy) {
                showBuyModal(gameState.pendingBuy.cell, gameState.pendingBuy.index);
                gameState.pendingBuy = null;
            } else if (gameState.pendingRent) {
                showRentModal(gameState.pendingRent.cell, gameState.pendingRent.owner);
                gameState.pendingRent = null;
            }
        }

        function showBuyModal(cell, index) {
            gameState.currentProperty = cell.propIndex;
            document.querySelector('#buy-modal h2').textContent = `${cell.icon} ${cell.name}`;
            document.querySelector('#buy-modal .modal-content').innerHTML = `
                <h2>${cell.icon} ${cell.name}</h2>
                <p>×§× ×” ××ª ×”××§×•× ×”×–×”! ğŸ </p>
                <p style="color: #ffd700; font-weight: 900;">ğŸ’° ××—×™×¨: ${cell.price} â¤ï¸</p>
                <div class="modal-buttons">
                    <button onclick="buyProperty()">ğŸ’° ×§× ×”</button>
                    <button onclick="closeBuyModal()">âŒ ×‘×™×˜×•×œ</button>
                </div>
            `;
            document.getElementById('buy-modal').classList.add('show');
        }

        function closeBuyModal() {
            document.getElementById('buy-modal').classList.remove('show');
            gameState.currentProperty = null;
        }

        function buyProperty() {
            const player = gameState.currentPlayer;
            const propIndex = gameState.currentProperty;
            const property = properties[propIndex];
            
            if (gameState.players[player].hearts >= property.price) {
                gameState.players[player].hearts -= property.price;
                gameState.players[player].properties.push(propIndex);
                updateUI();
                closeBuyModal();
                showCard('ğŸ‰ ×¨×›×™×©×” ××•×¦×œ×—×ª!', `×§× ×™×ª ××ª ${property.name}!`, `×©×™×œ××ª ${property.price} â¤ï¸`);
                updatePawns();
            } else {
                closeBuyModal();
                showCard('âŒ ××™×Ÿ ××¡×¤×™×§ ×œ×‘×‘×•×ª!', '××™×Ÿ ×œ×š ××¡×¤×™×§ ×œ×‘×‘×•×ª ×œ×§× ×•×ª ××ª ×”××§×•× ×”×–×”', '');
            }
        }

        function showRentModal(cell, owner) {
            const property = properties[cell.propIndex];
            const ownerName = owner === 1 ? '×©×—×§×Ÿ 1 ğŸ’‹' : '×©×—×§×Ÿ 2 ğŸ”¥';
            
            document.querySelector('#rent-modal .modal-content').innerHTML = `
                <h2>ğŸ’¸ ×ª×©×œ×•× ×©×›×™×¨×•×ª!</h2>
                <p>${ownerName} ×”×•× ×”×‘×¢×œ×™× ×©×œ ${property.name}!</p>
                <p style="color: #ffd700; font-weight: 900;">ğŸ’° ×©×œ× ${property.rent} â¤ï¸ ×œ×‘×‘×•×ª</p>
                <div class="modal-buttons">
                    <button onclick="payRent()">ğŸ’° ×©×œ×</button>
                    <button onclick="skipRent()">âŒ ×“×œ×’</button>
                </div>
            `;
            document.getElementById('rent-modal').classList.add('show');
        }

        function payRent() {
            const player = gameState.currentPlayer;
            const otherPlayer = player === 1 ? 2 : 1;
            const cell = boardCells[gameState.players[player].position];
            const property = properties[cell.propIndex];
            
            if (gameState.players[player].hearts >= property.rent) {
                gameState.players[player].hearts -= property.rent;
                gameState.players[otherPlayer].hearts += property.rent;
                updateUI();
                document.getElementById('rent-modal').classList.remove('show');
                showCard('ğŸ’° ×©×›×™×¨×•×ª ×©×•×œ××”!', `×©×™×œ××ª ${property.rent} ×œ×‘×‘×•×ª ×œ×©×•×ª×£`, `-${property.rent} â¤ï¸`);
                checkWinner();
            } else {
                document.getElementById('rent-modal').classList.remove('show');
                showCard('âŒ ××™×Ÿ ××¡×¤×™×§ ×œ×‘×‘×•×ª!', '××™×Ÿ ×œ×š ××¡×¤×™×§ ×œ×‘×‘×•×ª ×œ×©×œ× ×©×›×™×¨×•×ª', '');
            }
        }

        function skipRent() {
            document.getElementById('rent-modal').classList.remove('show');
        }

        function openShop() {
            const player = gameState.currentPlayer;
            document.getElementById('shop-hearts').textContent = gameState.players[player].hearts;
            document.getElementById('shop-modal').classList.add('show');
        }

        function closeShop() {
            document.getElementById('shop-modal').classList.remove('show');
        }

        function buyBonus(type, price) {
            const player = gameState.currentPlayer;
            
            if (gameState.players[player].hearts >= price) {
                gameState.players[player].hearts -= price;
                gameState.players[player].bonuses.push(type);
                
                let message = '';
                switch(type) {
                    case 'skip':
                        gameState.players[player].position += 5;
                        if (gameState.players[player].position >= boardCells.length) {
                            gameState.players[player].position = boardCells.length - 1;
                        }
                        updatePawns();
                        message = '×§×¤×¦×ª 5 ××©×‘×¦×•×ª ×§×“×™××”!';
                        break;
                    case 'wow':
                        const level = gameState.level;
                        const cards = cardsDB[level].sensual;
                        const card = cards[Math.floor(Math.random() * cards.length)];
                        showCard('ğŸ’‹ ×§×œ×£ ×•×•××•!', card, '+5 ×œ×‘×‘×•×ª ×‘×•× ×•×¡ â¤ï¸');
                        gameState.players[player].hearts += 5;
                        closeShop();
                        updateUI();
                        checkWinner();
                        return;
                    default:
                        message = '×¨×›×©×ª ×‘×•× ×•×¡!';
                }
                
                showCard('ğŸ‰ ×¨×›×™×©×” ××•×¦×œ×—×ª!', message, `-${price} â¤ï¸`);
                closeShop();
                updateUI();
                checkWinner();
            }
        }

        function nextTurn() {
            gameState.currentPlayer = gameState.currentPlayer === 1 ? 2 : 1;
            document.getElementById('roll-btn').disabled = false;
            document.getElementById('next-btn').disabled = true;
            updateUI();
        }

        function updateUI() {
            document.getElementById('player1-hearts').textContent = gameState.players[1].hearts;
            document.getElementById('player2-hearts').textContent = gameState.players[2].hearts;
            document.getElementById('player1-props').textContent = gameState.players[1].properties.length;
            document.getElementById('player2-props').textContent = gameState.players[2].properties.length;
            
            const p1Card = document.getElementById('player1-info');
            const p2Card = document.getElementById('player2-info');
            
            if (gameState.currentPlayer === 1) {
                p1Card.classList.add('active');
                p2Card.classList.remove('active');
            } else {
                p2Card.classList.add('active');
                p1Card.classList.remove('active');
            }
        }

        function checkWinner() {
            const p1 = gameState.players[1];
            const p2 = gameState.players[2];
            
            let winner = null;
            
            if (p1.hearts >= 150) {
                winner = 1;
            } else if (p2.hearts >= 150) {
                winner = 2;
            }
            
            if (winner) {
                gameState.gameOver = true;
                const winnerPlayer = gameState.players[winner];
                document.getElementById('winner-text').innerHTML = `
                    <p style="font-size: 2em;"><strong>×©×—×§×Ÿ ${winner} × ×™×¦×—!</strong></p>
                    <p>×œ×‘×‘×•×ª ×¡×•×¤×™×™×: <strong>${winnerPlayer.hearts} â¤ï¸</strong></p>
                `;
                setTimeout(() => {
                    document.getElementById('winner-modal').classList.add('show');
                }, 500);
            }
        }
    </script>
</body>
</html>